# - platform: statistics
#   entity_id: sensor.bathroom_humidity
#   name: Bathroom Humidity
#   sampling_size: 400
#   max_age:
#     minutes: 300
- platform: template
  sensors:
    bedroom_closet_door:
      friendly_name: "Bedroom Closet Door"
      value_template: >-
        {% if is_state('sensor.bedroom_closet_sensor_state', '22') %}
          open
        {% elif is_state('sensor.bedroom_closet_sensor_state', '23') %}
          closed
        {% else %}
          unknown
        {% endif %}
      icon_template: >-
        {% if is_state('sensor.bedroom_closet_sensor_state', '22') %}
          mdi:door-open
        {% elif is_state('sensor.bedroom_closet_sensor_state', '23') %}
          mdi:door-closed
        {% else %}
          mdi:alert
        {% endif %}
    master_bathroom_motion_detected:
      friendly_name: "Bathroom Motion Detected"
      value_template: >-
        {% if is_state('sensor.master_bathroom_vanity_light_sensor_state', '8') %}
          yes
        {% elif is_state('sensor.master_bathroom_vanity_light_sensor_state', '0') %}
          no
        {% else %}
          unknown
        {% endif %}
      icon_template: >-
        {% if is_state('sensor.master_bathroom_vanity_light_sensor_state', '8') %}
          mdi:exit-run
        {% elif is_state('sensor.master_bathroom_vanity_light_sensor_state', '0') %}
          mdi:door
        {% else %}
          mdi:alert
        {% endif %}
    guest_bathroom_motion_detected:
      friendly_name: "Guest Bathroom Motion Detected"
      value_template: >-
        {% if is_state('sensor.guest_bathroom_vanity_light_sensor_state', '8') %}
          yes
        {% elif is_state('sensor.guest_bathroom_vanity_light_sensor_state', '0') %}
          no
        {% else %}
          unknown
        {% endif %}
      icon_template: >-
        {% if is_state('sensor.guest_bathroom_vanity_light_sensor_state', '8') %}
          mdi:exit-run
        {% elif is_state('sensor.guest_bathroom_vanity_light_sensor_state', '0') %}
          mdi:door
        {% else %}
          mdi:alert
        {% endif %}
    living_room_tv_ip:
      value_template: !secret living_room_tv_ip
    bedroom_tv_ip:
      value_template: !secret bedroom_tv_ip
- platform: command_line
  name: Living room tv state
  command: curl "-s GET http://{{ states.sensor.living_room_tv_ip.state }}:8060/query/device-info | grep power-mode | sed -e 's:<power-mode>DisplayOff</power-mode>:off:' -e 's:<power-mode>PowerOn</power-mode>:on:'"
